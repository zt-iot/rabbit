type proc_t 	  : process

process p() : proc_t
{
  main 
  {
    new x = S(1,2,3) in
    event [::Allocated()];
    let x1,x2,x3 = x.S in
    case
      [x1 = 1, x2 = 2, x3 = 3] -> event [::Valid()]
    end;
    delete x.S;
    event [::Deleted()]
  }
}


system 
  p()
requires  
[
  lemma Reachable : (* verified *)
    reachable ::Deleted() ;

  lemma Correspondence : (* verified *)
    corresponds ::Deleted() ~> ::Allocated()
]
